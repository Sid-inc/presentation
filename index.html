<!doctype html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<title>reveal.js</title>

		<link rel="stylesheet" href="dist/reset.css">
		<link rel="stylesheet" href="dist/reveal.css">
		<link rel="stylesheet" href="dist/theme/black.css">

		<!-- Theme used for syntax highlighted code -->
		<link rel="stylesheet" href="plugin/highlight/monokai.css">
	</head>
	<body>
		<div class="reveal">
			<div class="slides">
				<section>
          <section>
            <span>WebGL</span>
            <img src="img/webgl.jpg">
          </section>
          <section>Shading language</section>
          <section>WebGL = 3D</section>
        </section>
				<section>
          JavaScript <- JQuery
          WebGL <- Three.js
        </section>
        <section>Tree.js</section>
        <section>Scene</section>
        <section>Camera</section>
				<section>Renderer</section>
				<section>Mesh</section>
        <section>
          demo
          <div class="demo-container">
            <div class="demo"></div>
          </div>
        </section>
			</div>
		</div>

		<script src="dist/reveal.js"></script>
		<script src="plugin/notes/notes.js"></script>
		<script src="plugin/markdown/markdown.js"></script>
		<script src="plugin/highlight/highlight.js"></script>
		<script>
			// More info about initialization & config:
			// - https://revealjs.com/initialization/
			// - https://revealjs.com/config/
			Reveal.initialize({
				hash: true,

				// Learn about plugins: https://revealjs.com/plugins/
				plugins: [ RevealMarkdown, RevealHighlight, RevealNotes ]
			});
		</script>

    <script async src="https://unpkg.com/es-module-shims@1.3.6/dist/es-module-shims.js"></script>

    <script type="importmap">
      {
        "imports": {
          "three": "./js/three.js-master//build/three.module.js",
          "stl-loader": "./js/three.js-master/examples/jsm/loaders/STLLoader.js"
        }
      }
    </script>

    <script type="module"> 
        import * as THREE from 'three';
        import { STLLoader } from 'stl-loader';
      
        const scene = new THREE.Scene();
        const camera = new THREE.PerspectiveCamera(75, 600 / 400, 0.1, 1000);
        const renderer = new THREE.WebGLRenderer();
        const container = document.querySelector('.demo');
        
        renderer.setSize(600, 400);
        container.appendChild(renderer.domElement);

        const spotLight = new THREE.SpotLight(0xeeeece);
        spotLight.position.set(1000, 1000, 1000);
        scene.add(spotLight);
        const spotLight2 = new THREE.SpotLight(0xffffff);
        spotLight2.position.set( -200, -200, -200);
        
        camera.position.z = 30;

        let mesh;
        const loadObject = () => {
        const loader = new STLLoader();
        loader.load("img/rs_school_js.stl", function (geometry) {
              const group = new THREE.Group();
              scene.add(group);

              const material = new THREE.MeshPhongMaterial({ color: 0xdaa520,
          specular: 0xbcbcbc, });
              mesh = new THREE.Mesh(geometry, material);
              mesh.position.set(0, 0, 0);
              mesh.scale.set(1, 1, 1);
              mesh.castShadow = true;
              mesh.receiveShadow = true;

              geometry.center();
              group.add(mesh);
          })
        }
    
        loadObject();

        camera.position.z = 100;

        function render() {

          requestAnimationFrame( render );
          mesh.rotation.x += 0.01;
          mesh.rotation.y += 0.001;      
          renderer.render( scene, camera );

        }
        render();
    </script>
    <style>
      .demo-container {
        display: flex;
        align-items: center;
        justify-content: center;
        width: 100%;
      }

      .demo {
        width: 600px;
        height: 400px;
      }
    </style>
	</body>
</html>
